
<div class="w-full max-w-md mx-auto p-6 bg-white/80 rounded-3xl shadow-lg backdrop-blur-sm animate-glow">
  @if (result(); as res) {
    <div class="text-center">
      <h2 class="font-serif text-2xl text-dark-purple/80">Твой уникальный типаж:</h2>
      <h1 class="font-serif text-4xl font-bold text-gold-accent mb-4">{{ res.archetype }}</h1>
      <p class="font-sans text-md text-dark-purple/90 mb-6">{{ res.description }}</p>
    </div>
    
    <div class="mb-6">
      <h3 class="font-serif text-2xl font-semibold mb-3 text-center">Рекомендации по стилю:</h3>
      <ul class="space-y-2 list-none font-sans text-dark-purple/80">
        @for (item of res.recommendations; track item) {
          <li class="flex items-start">
            <svg class="w-5 h-5 text-gold-accent mr-3 mt-1 flex-shrink-0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
            </svg>
            <span>{{ item }}</span>
          </li>
        }
      </ul>
    </div>

    <div class="mb-6">
      <h3 class="font-serif text-2xl font-semibold mb-3 text-center">Примеры образов в твоём стиле:</h3>
      <div class="grid grid-cols-2 gap-4">
        @for (img of res.previewImages; track img) {
          <img [src]="img" alt="Пример образа в стиле" class="rounded-xl shadow-md w-full h-auto object-cover aspect-[3/4]">
        }
      </div>
    </div>

    <!-- Crystal Teaser -->
    <div class="my-6 p-4 bg-lavender/40 rounded-2xl relative overflow-hidden">
      <div class="absolute top-2 right-3 text-gold-accent/70">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" /></svg>
      </div>
      <h3 class="font-serif text-2xl font-semibold text-center">Твои камни-талисманы</h3>
      <div class="mt-2 text-center blur-sm select-none">
        @for(crystal of res.crystalTeaser; track crystal.name) {
          <p class="font-sans"><span class="font-bold">{{crystal.name}}</span> — {{crystal.shortDescription}}</p>
        }
      </div>
      <p class="text-center font-sans mt-2 text-sm">Полный разбор с практиками доступен в <span class="font-bold text-gold-accent">полной версии</span>.</p>
    </div>

    <!-- Celebrity Teaser -->
    <div class="my-6 p-4 bg-mint/40 rounded-2xl relative overflow-hidden">
        <div class="absolute top-2 right-3 text-gold-accent/70">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" /></svg>
        </div>
        <h3 class="font-serif text-2xl font-semibold text-center">Сходство со знаменитостью</h3>
        <div class="mt-2 text-center blur-sm select-none">
            @for(celebrity of res.celebrityTeaser; track celebrity.name) {
                <p class="font-sans">Твоя энергия напоминает <span class="font-bold">{{celebrity.name}}</span></p>
            }
        </div>
        <p class="text-center font-sans mt-2 text-sm">Топ-3 похожих звезды с процентом сходства — в <span class="font-bold text-gold-accent">полной версии</span>.</p>
    </div>
    
    <button (click)="goToNextStep()" class="w-full bg-gold-accent text-white font-bold py-3 px-4 rounded-xl hover:opacity-90 transition-opacity transform hover:scale-105 shadow-lg">
      Узнать своё будущее
    </button>
    
    <app-share [shareText]="shareText()" [shareTitle]="shareTitle()"></app-share>

  } @else {
    <p class="text-center font-sans">Загружаем результаты анализа...</p>
  }
</div>
