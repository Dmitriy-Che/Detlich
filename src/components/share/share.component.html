
<div class="relative w-full flex justify-center mt-4">
  <button (click)="toggleOptions()" class="inline-flex items-center px-4 py-2 bg-white/70 rounded-full shadow-md hover:bg-white transition-colors backdrop-blur-sm text-sm font-medium text-dark-purple">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-dark-purple/80" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
      <path stroke-linecap="round" stroke-linejoin="round" d="M8.684 13.342C8.886 12.938 9 12.482 9 12s-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z" />
    </svg>
    Поделиться результатом
  </button>
  
  @if(showOptions()) {
    <div @self class="absolute bottom-full mb-2 w-52 bg-beige rounded-2xl shadow-xl p-2 z-10 border border-lavender animate-fade-in-up">
      <ul class="space-y-1">
        <li>
          <button (click)="share('telegram')" class="w-full text-left flex items-center px-3 py-2 text-sm text-dark-purple hover:bg-lavender/50 rounded-lg transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" fill="#2AABEE" viewBox="0 0 24 24"><path d="M22,2L2,9l7,2,2,7,9-18Z"/></svg>
            Поделиться в Telegram
          </button>
        </li>
        <li>
          <button (click)="share('vk')" class="w-full text-left flex items-center px-3 py-2 text-sm text-dark-purple hover:bg-lavender/50 rounded-lg transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" fill="#0077FF" viewBox="0 0 24 24"><path d="M13.162 18.994c.609 0 .869-.286.869-.745v-2.14c0-1.03.18-1.349 1.183-1.349h1.614c.57 0 .839-.25.839-.684 0-.17-.054-.386-.16-.642-.234-.505-1.15-2.45-2.28-2.45-.487 0-.747.286-.747.65v2.883c0 .487-.145.714-.643.714-.403 0-.756-.39-.756-.75v-4.43c0-.77.348-1.12 1.05-1.12.518 0 .888.214 1.405.822.756.965 1.24 2.143 1.24 2.143s.432 1.07 1.02.32c.312-.429.373-.93.25-1.286-.234-1.107-1.18-2.61-2.46-3.215-.432-.215-.92-.322-1.46-.322-1.574 0-2.825 1.072-2.825 2.415v3.321c-.246-.178-.71-.607-1.208-.607-.947 0-1.633.536-1.633 1.322 0 .535.433.893 1.03.893.572 0 .898-.428.898-1.07v-1.18c.245-.072.58-.143.955-.143.647 0 .973.25.973.715v3.18c0 .82-.303 1.214-1.28 1.214H9.98c-1.28 0-1.48-.964-1.48-1.5 0-.25.044-.464.133-.643.2-.5.98-2.036 2.05-2.036.485 0 .745.286.745.65v2.883c0 .487-.144.714-.642.714-.403 0-.756-.39-.756-.75V9.75c0-1.108.528-1.5 1.5-1.5.765 0 1.27.357 1.27 1.072v3.393c0 .464-.076.68-.37.964-.32.286-.67.393-1.01.393-.42 0-.84-.214-.84-.607v-2.07c0-1.036-1.03-1.5-1.54-1.5-.76 0-1.78.393-1.78 1.608 0 1.035 1.02 2.964 2.91 2.964h2.18z"/></svg>
            Поделиться в ВКонтакте
          </button>
        </li>
        <li>
          <button (click)="copyLink()" class="w-full text-left flex items-center px-3 py-2 text-sm text-dark-purple hover:bg-lavender/50 rounded-lg transition-colors" [class.text-green-600]="copied()">
             @if (copied()) {
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                </svg>
             } @else {
               <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
                </svg>
             }
            @if(copied()) { Ссылка скопирована! } @else { Копировать ссылку }
          </button>
        </li>
      </ul>
    </div>
  }
</div>
